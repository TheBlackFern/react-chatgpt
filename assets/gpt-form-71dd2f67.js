import{R as S,r as T,$ as qt,_ as Wt,j as p,c as ae,a as Ht,b as Gt,u as zt,l as Ze,o as Kt,s as Ce,n as Xt,d as lt,m as Jt,e as Pe,B as Z}from"./index-06035c1a.js";var fe=e=>e.type==="checkbox",ne=e=>e instanceof Date,L=e=>e==null;const ct=e=>typeof e=="object";var j=e=>!L(e)&&!Array.isArray(e)&&ct(e)&&!ne(e),ft=e=>j(e)&&e.target?fe(e.target)?e.target.checked:e.target.value:e,Qt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,dt=(e,i)=>e.has(Qt(i)),Yt=e=>{const i=e.constructor&&e.constructor.prototype;return j(i)&&i.hasOwnProperty("isPrototypeOf")},Ie=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function $(e){let i;const r=Array.isArray(e);if(e instanceof Date)i=new Date(e);else if(e instanceof Set)i=new Set(e);else if(!(Ie&&(e instanceof Blob||e instanceof FileList))&&(r||j(e)))if(i=r?[]:{},!r&&!Yt(e))i=e;else for(const t in e)e.hasOwnProperty(t)&&(i[t]=$(e[t]));else return e;return i}var de=e=>Array.isArray(e)?e.filter(Boolean):[],C=e=>e===void 0,f=(e,i,r)=>{if(!i||!j(e))return r;const t=de(i.split(/[,[\].]+?/)).reduce((n,a)=>L(n)?n:n[a],e);return C(t)||t===e?C(e[i])?r:e[i]:t};const ge={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},B={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},X={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},yt=S.createContext(null),_e=()=>S.useContext(yt),Zt=e=>{const{children:i,...r}=e;return S.createElement(yt.Provider,{value:r},i)};var mt=(e,i,r,t=!0)=>{const n={defaultValues:i._defaultValues};for(const a in e)Object.defineProperty(n,a,{get:()=>{const l=a;return i._proxyFormState[l]!==B.all&&(i._proxyFormState[l]=!t||B.all),r&&(r[l]=!0),e[l]}});return n},M=e=>j(e)&&!Object.keys(e).length,ht=(e,i,r,t)=>{r(e);const{name:n,...a}=e;return M(a)||Object.keys(a).length>=Object.keys(i).length||Object.keys(a).find(l=>i[l]===(!t||B.all))},me=e=>Array.isArray(e)?e:[e],gt=(e,i,r)=>r&&i?e===i||Array.isArray(e)&&e.some(t=>t&&r&&t===i):!e||!i||e===i||me(e).some(t=>t&&(t.startsWith(i)||i.startsWith(t)));function Me(e){const i=S.useRef(e);i.current=e,S.useEffect(()=>{const r=!e.disabled&&i.current.subject&&i.current.subject.subscribe({next:i.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}function er(e){const i=_e(),{control:r=i.control,disabled:t,name:n,exact:a}=e||{},[l,g]=S.useState(r._formState),m=S.useRef(!0),F=S.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),w=S.useRef(n);return w.current=n,Me({disabled:t,next:v=>m.current&&gt(w.current,v.name,a)&&ht(v,F.current,r._updateFormState)&&g({...r._formState,...v}),subject:r._subjects.state}),S.useEffect(()=>(m.current=!0,F.current.isValid&&r._updateValid(!0),()=>{m.current=!1}),[r]),mt(l,r,F.current,!1)}var G=e=>typeof e=="string",vt=(e,i,r,t,n)=>G(e)?(t&&i.watch.add(e),f(r,e,n)):Array.isArray(e)?e.map(a=>(t&&i.watch.add(a),f(r,a))):(t&&(i.watchAll=!0),r);function tr(e){const i=_e(),{control:r=i.control,name:t,defaultValue:n,disabled:a,exact:l}=e||{},g=S.useRef(t);g.current=t,Me({disabled:a,subject:r._subjects.values,next:w=>{gt(g.current,w.name,l)&&F($(vt(g.current,r._names,w.values||r._formValues,!1,n)))}});const[m,F]=S.useState(r._getWatch(t,n));return S.useEffect(()=>r._removeUnmounted()),m}var Ue=e=>/^\w*$/.test(e),bt=e=>de(e.replace(/["|']|\]/g,"").split(/\.|\[/));function A(e,i,r){let t=-1;const n=Ue(i)?[i]:bt(i),a=n.length,l=a-1;for(;++t<a;){const g=n[t];let m=r;if(t!==l){const F=e[g];m=j(F)||Array.isArray(F)?F:isNaN(+n[t+1])?{}:[]}e[g]=m,e=e[g]}return e}function rr(e){const i=_e(),{name:r,disabled:t,control:n=i.control,shouldUnregister:a}=e,l=dt(n._names.array,r),g=tr({control:n,name:r,defaultValue:f(n._formValues,r,f(n._defaultValues,r,e.defaultValue)),exact:!0}),m=er({control:n,name:r}),F=S.useRef(n.register(r,{...e.rules,value:g}));return F.current=n.register(r,e.rules),S.useEffect(()=>{const w=n._options.shouldUnregister||a,v=(b,q)=>{const N=f(n._fields,b);N&&(N._f.mount=q)};if(v(r,!0),w){const b=$(f(n._options.defaultValues,r));A(n._defaultValues,r,b),C(f(n._formValues,r))&&A(n._formValues,r,b)}return()=>{(l?w&&!n._state.action:w)?n.unregister(r):v(r,!1)}},[r,n,l,a]),S.useEffect(()=>{n._updateDisabledField({disabled:t,fields:n._fields,name:r})},[t,r,n]),{field:{name:r,value:g,disabled:t,onChange:S.useCallback(w=>F.current.onChange({target:{value:ft(w),name:r},type:ge.CHANGE}),[r]),onBlur:S.useCallback(()=>F.current.onBlur({target:{value:f(n._formValues,r),name:r},type:ge.BLUR}),[r,n]),ref:w=>{const v=f(n._fields,r);v&&w&&(v._f.ref={focus:()=>w.focus(),select:()=>w.select(),setCustomValidity:b=>w.setCustomValidity(b),reportValidity:()=>w.reportValidity()})}},formState:m,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!f(m.errors,r)},isDirty:{enumerable:!0,get:()=>!!f(m.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!f(m.touchedFields,r)},error:{enumerable:!0,get:()=>f(m.errors,r)}})}}const sr=e=>e.render(rr(e));var xt=(e,i,r,t,n)=>i?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[t]:n||!0}}:{};const Le=(e,i,r)=>{for(const t of r||Object.keys(e)){const n=f(e,t);if(n){const{_f:a,...l}=n;if(a&&i(a.name)){if(a.ref.focus){a.ref.focus();break}else if(a.refs&&a.refs[0].focus){a.refs[0].focus();break}}else j(l)&&Le(l,i)}}};var et=e=>({isOnSubmit:!e||e===B.onSubmit,isOnBlur:e===B.onBlur,isOnChange:e===B.onChange,isOnAll:e===B.all,isOnTouch:e===B.onTouched}),tt=(e,i,r)=>!r&&(i.watchAll||i.watch.has(e)||[...i.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length)))),ir=(e,i,r)=>{const t=de(f(e,r));return A(t,"root",i[r]),A(e,r,t),e},ee=e=>typeof e=="boolean",$e=e=>e.type==="file",J=e=>typeof e=="function",ve=e=>{if(!Ie)return!1;const i=e?e.ownerDocument:0;return e instanceof(i&&i.defaultView?i.defaultView.HTMLElement:HTMLElement)},he=e=>G(e),Be=e=>e.type==="radio",be=e=>e instanceof RegExp;const rt={value:!1,isValid:!1},st={value:!0,isValid:!0};var pt=e=>{if(Array.isArray(e)){if(e.length>1){const i=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:i,isValid:!!i.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!C(e[0].attributes.value)?C(e[0].value)||e[0].value===""?st:{value:e[0].value,isValid:!0}:st:rt}return rt};const it={isValid:!1,value:null};var _t=e=>Array.isArray(e)?e.reduce((i,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:i,it):it;function nt(e,i,r="validate"){if(he(e)||Array.isArray(e)&&e.every(he)||ee(e)&&!e)return{type:r,message:he(e)?e:"",ref:i}}var ie=e=>j(e)&&!be(e)?e:{value:e,message:""},at=async(e,i,r,t,n)=>{const{ref:a,refs:l,required:g,maxLength:m,minLength:F,min:w,max:v,pattern:b,validate:q,name:N,valueAsNumber:Ve,mount:ye,disabled:Ae}=e._f,x=f(i,N);if(!ye||Ae)return{};const U=l?l[0]:a,z=V=>{t&&U.reportValidity&&(U.setCustomValidity(ee(V)?"":V||""),U.reportValidity())},O={},oe=Be(a),re=fe(a),we=oe||re,W=(Ve||$e(a))&&C(a.value)&&C(x)||ve(a)&&a.value===""||x===""||Array.isArray(x)&&!x.length,Q=xt.bind(null,N,r,O),K=(V,_,k,P=X.maxLength,I=X.minLength)=>{const H=V?_:k;O[N]={type:V?P:I,message:H,ref:a,...Q(V?P:I,H)}};if(n?!Array.isArray(x)||!x.length:g&&(!we&&(W||L(x))||ee(x)&&!x||re&&!pt(l).isValid||oe&&!_t(l).isValid)){const{value:V,message:_}=he(g)?{value:!!g,message:g}:ie(g);if(V&&(O[N]={type:X.required,message:_,ref:U,...Q(X.required,_)},!r))return z(_),O}if(!W&&(!L(w)||!L(v))){let V,_;const k=ie(v),P=ie(w);if(!L(x)&&!isNaN(x)){const I=a.valueAsNumber||x&&+x;L(k.value)||(V=I>k.value),L(P.value)||(_=I<P.value)}else{const I=a.valueAsDate||new Date(x),H=le=>new Date(new Date().toDateString()+" "+le),Y=a.type=="time",ue=a.type=="week";G(k.value)&&x&&(V=Y?H(x)>H(k.value):ue?x>k.value:I>new Date(k.value)),G(P.value)&&x&&(_=Y?H(x)<H(P.value):ue?x<P.value:I<new Date(P.value))}if((V||_)&&(K(!!V,k.message,P.message,X.max,X.min),!r))return z(O[N].message),O}if((m||F)&&!W&&(G(x)||n&&Array.isArray(x))){const V=ie(m),_=ie(F),k=!L(V.value)&&x.length>+V.value,P=!L(_.value)&&x.length<+_.value;if((k||P)&&(K(k,V.message,_.message),!r))return z(O[N].message),O}if(b&&!W&&G(x)){const{value:V,message:_}=ie(b);if(be(V)&&!x.match(V)&&(O[N]={type:X.pattern,message:_,ref:a,...Q(X.pattern,_)},!r))return z(_),O}if(q){if(J(q)){const V=await q(x,i),_=nt(V,U);if(_&&(O[N]={..._,...Q(X.validate,_.message)},!r))return z(_.message),O}else if(j(q)){let V={};for(const _ in q){if(!M(V)&&!r)break;const k=nt(await q[_](x,i),U,_);k&&(V={...k,...Q(_,k.message)},z(k.message),r&&(O[N]=V))}if(!M(V)&&(O[N]={ref:U,...V},!r))return O}}return z(!0),O};function nr(e,i){const r=i.slice(0,-1).length;let t=0;for(;t<r;)e=C(e)?t++:e[i[t++]];return e}function ar(e){for(const i in e)if(e.hasOwnProperty(i)&&!C(e[i]))return!1;return!0}function R(e,i){const r=Array.isArray(i)?i:Ue(i)?[i]:bt(i),t=r.length===1?e:nr(e,r),n=r.length-1,a=r[n];return t&&delete t[a],n!==0&&(j(t)&&M(t)||Array.isArray(t)&&ar(t))&&R(e,r.slice(0,-1)),e}function Te(){let e=[];return{get observers(){return e},next:n=>{for(const a of e)a.next&&a.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(a=>a!==n)}}),unsubscribe:()=>{e=[]}}}var xe=e=>L(e)||!ct(e);function te(e,i){if(xe(e)||xe(i))return e===i;if(ne(e)&&ne(i))return e.getTime()===i.getTime();const r=Object.keys(e),t=Object.keys(i);if(r.length!==t.length)return!1;for(const n of r){const a=e[n];if(!t.includes(n))return!1;if(n!=="ref"){const l=i[n];if(ne(a)&&ne(l)||j(a)&&j(l)||Array.isArray(a)&&Array.isArray(l)?!te(a,l):a!==l)return!1}}return!0}var Ft=e=>e.type==="select-multiple",or=e=>Be(e)||fe(e),je=e=>ve(e)&&e.isConnected,Vt=e=>{for(const i in e)if(J(e[i]))return!0;return!1};function pe(e,i={}){const r=Array.isArray(e);if(j(e)||r)for(const t in e)Array.isArray(e[t])||j(e[t])&&!Vt(e[t])?(i[t]=Array.isArray(e[t])?[]:{},pe(e[t],i[t])):L(e[t])||(i[t]=!0);return i}function At(e,i,r){const t=Array.isArray(e);if(j(e)||t)for(const n in e)Array.isArray(e[n])||j(e[n])&&!Vt(e[n])?C(i)||xe(r[n])?r[n]=Array.isArray(e[n])?pe(e[n],[]):{...pe(e[n])}:At(e[n],L(i)?{}:i[n],r[n]):r[n]=!te(e[n],i[n]);return r}var Oe=(e,i)=>At(e,i,pe(i)),wt=(e,{valueAsNumber:i,valueAsDate:r,setValueAs:t})=>C(e)?e:i?e===""?NaN:e&&+e:r&&G(e)?new Date(e):t?t(e):e;function Re(e){const i=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):i.disabled))return $e(i)?i.files:Be(i)?_t(e.refs).value:Ft(i)?[...i.selectedOptions].map(({value:r})=>r):fe(i)?pt(e.refs).value:wt(C(i.value)?e.ref.value:i.value,e)}var ur=(e,i,r,t)=>{const n={};for(const a of e){const l=f(i,a);l&&A(n,a,l._f)}return{criteriaMode:r,names:[...e],fields:n,shouldUseNativeValidation:t}},ce=e=>C(e)?e:be(e)?e.source:j(e)?be(e.value)?e.value.source:e.value:e,lr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function ot(e,i,r){const t=f(e,r);if(t||Ue(r))return{error:t,name:r};const n=r.split(".");for(;n.length;){const a=n.join("."),l=f(i,a),g=f(e,a);if(l&&!Array.isArray(l)&&r!==a)return{name:r};if(g&&g.type)return{name:a,error:g};n.pop()}return{name:r}}var cr=(e,i,r,t,n)=>n.isOnAll?!1:!r&&n.isOnTouch?!(i||e):(r?t.isOnBlur:n.isOnBlur)?!e:(r?t.isOnChange:n.isOnChange)?e:!0,fr=(e,i)=>!de(f(e,i)).length&&R(e,i);const dr={mode:B.onSubmit,reValidateMode:B.onChange,shouldFocusError:!0};function yr(e={},i){let r={...dr,...e},t={submitCount:0,isDirty:!1,isLoading:J(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},n={},a=j(r.defaultValues)||j(r.values)?$(r.defaultValues||r.values)||{}:{},l=r.shouldUnregister?{}:$(a),g={action:!1,mount:!1,watch:!1},m={mount:new Set,unMount:new Set,array:new Set,watch:new Set},F,w=0;const v={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},b={values:Te(),array:Te(),state:Te()},q=e.resetOptions&&e.resetOptions.keepDirtyValues,N=et(r.mode),Ve=et(r.reValidateMode),ye=r.criteriaMode===B.all,Ae=s=>o=>{clearTimeout(w),w=setTimeout(s,o)},x=async s=>{if(v.isValid||s){const o=r.resolver?M((await W()).errors):await K(n,!0);o!==t.isValid&&b.state.next({isValid:o})}},U=s=>v.isValidating&&b.state.next({isValidating:s}),z=(s,o=[],u,y,d=!0,c=!0)=>{if(y&&u){if(g.action=!0,c&&Array.isArray(f(n,s))){const h=u(f(n,s),y.argA,y.argB);d&&A(n,s,h)}if(c&&Array.isArray(f(t.errors,s))){const h=u(f(t.errors,s),y.argA,y.argB);d&&A(t.errors,s,h),fr(t.errors,s)}if(v.touchedFields&&c&&Array.isArray(f(t.touchedFields,s))){const h=u(f(t.touchedFields,s),y.argA,y.argB);d&&A(t.touchedFields,s,h)}v.dirtyFields&&(t.dirtyFields=Oe(a,l)),b.state.next({name:s,isDirty:_(s,o),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else A(l,s,o)},O=(s,o)=>{A(t.errors,s,o),b.state.next({errors:t.errors})},oe=(s,o,u,y)=>{const d=f(n,s);if(d){const c=f(l,s,C(u)?f(a,s):u);C(c)||y&&y.defaultChecked||o?A(l,s,o?c:Re(d._f)):I(s,c),g.mount&&x()}},re=(s,o,u,y,d)=>{let c=!1,h=!1;const D={name:s};if(!u||y){v.isDirty&&(h=t.isDirty,t.isDirty=D.isDirty=_(),c=h!==D.isDirty);const E=te(f(a,s),o);h=f(t.dirtyFields,s),E?R(t.dirtyFields,s):A(t.dirtyFields,s,!0),D.dirtyFields=t.dirtyFields,c=c||v.dirtyFields&&h!==!E}if(u){const E=f(t.touchedFields,s);E||(A(t.touchedFields,s,u),D.touchedFields=t.touchedFields,c=c||v.touchedFields&&E!==u)}return c&&d&&b.state.next(D),c?D:{}},we=(s,o,u,y)=>{const d=f(t.errors,s),c=v.isValid&&ee(o)&&t.isValid!==o;if(e.delayError&&u?(F=Ae(()=>O(s,u)),F(e.delayError)):(clearTimeout(w),F=null,u?A(t.errors,s,u):R(t.errors,s)),(u?!te(d,u):d)||!M(y)||c){const h={...y,...c&&ee(o)?{isValid:o}:{},errors:t.errors,name:s};t={...t,...h},b.state.next(h)}U(!1)},W=async s=>r.resolver(l,r.context,ur(s||m.mount,n,r.criteriaMode,r.shouldUseNativeValidation)),Q=async s=>{const{errors:o}=await W(s);if(s)for(const u of s){const y=f(o,u);y?A(t.errors,u,y):R(t.errors,u)}else t.errors=o;return o},K=async(s,o,u={valid:!0})=>{for(const y in s){const d=s[y];if(d){const{_f:c,...h}=d;if(c){const D=m.array.has(c.name),E=await at(d,l,ye,r.shouldUseNativeValidation&&!o,D);if(E[c.name]&&(u.valid=!1,o))break;!o&&(f(E,c.name)?D?ir(t.errors,E,c.name):A(t.errors,c.name,E[c.name]):R(t.errors,c.name))}h&&await K(h,o,u)}}return u.valid},V=()=>{for(const s of m.unMount){const o=f(n,s);o&&(o._f.refs?o._f.refs.every(u=>!je(u)):!je(o._f.ref))&&Se(s)}m.unMount=new Set},_=(s,o)=>(s&&o&&A(l,s,o),!te(qe(),a)),k=(s,o,u)=>vt(s,m,{...g.mount?l:C(o)?a:G(s)?{[s]:o}:o},u,o),P=s=>de(f(g.mount?l:a,s,e.shouldUnregister?f(a,s,[]):[])),I=(s,o,u={})=>{const y=f(n,s);let d=o;if(y){const c=y._f;c&&(!c.disabled&&A(l,s,wt(o,c)),d=ve(c.ref)&&L(o)?"":o,Ft(c.ref)?[...c.ref.options].forEach(h=>h.selected=d.includes(h.value)):c.refs?fe(c.ref)?c.refs.length>1?c.refs.forEach(h=>(!h.defaultChecked||!h.disabled)&&(h.checked=Array.isArray(d)?!!d.find(D=>D===h.value):d===h.value)):c.refs[0]&&(c.refs[0].checked=!!d):c.refs.forEach(h=>h.checked=h.value===d):$e(c.ref)?c.ref.value="":(c.ref.value=d,c.ref.type||b.values.next({name:s,values:{...l}})))}(u.shouldDirty||u.shouldTouch)&&re(s,d,u.shouldTouch,u.shouldDirty,!0),u.shouldValidate&&le(s)},H=(s,o,u)=>{for(const y in o){const d=o[y],c=`${s}.${y}`,h=f(n,c);(m.array.has(s)||!xe(d)||h&&!h._f)&&!ne(d)?H(c,d,u):I(c,d,u)}},Y=(s,o,u={})=>{const y=f(n,s),d=m.array.has(s),c=$(o);A(l,s,c),d?(b.array.next({name:s,values:{...l}}),(v.isDirty||v.dirtyFields)&&u.shouldDirty&&b.state.next({name:s,dirtyFields:Oe(a,l),isDirty:_(s,c)})):y&&!y._f&&!L(c)?H(s,c,u):I(s,c,u),tt(s,m)&&b.state.next({...t}),b.values.next({name:s,values:{...l}}),!g.mount&&i()},ue=async s=>{const o=s.target;let u=o.name,y=!0;const d=f(n,u),c=()=>o.type?Re(d._f):ft(s);if(d){let h,D;const E=c(),se=s.type===ge.BLUR||s.type===ge.FOCUS_OUT,Ut=!lr(d._f)&&!r.resolver&&!f(t.errors,u)&&!d._f.deps||cr(se,f(t.touchedFields,u),t.isSubmitted,Ve,N),ke=tt(u,m,se);A(l,u,E),se?(d._f.onBlur&&d._f.onBlur(s),F&&F(0)):d._f.onChange&&d._f.onChange(s);const Ee=re(u,E,se,!1),$t=!M(Ee)||ke;if(!se&&b.values.next({name:u,type:s.type,values:{...l}}),Ut)return v.isValid&&x(),$t&&b.state.next({name:u,...ke?{}:Ee});if(!se&&ke&&b.state.next({...t}),U(!0),r.resolver){const{errors:Qe}=await W([u]),Bt=ot(t.errors,n,u),Ye=ot(Qe,n,Bt.name||u);h=Ye.error,u=Ye.name,D=M(Qe)}else h=(await at(d,l,ye,r.shouldUseNativeValidation))[u],y=isNaN(E)||E===f(l,u,E),y&&(h?D=!1:v.isValid&&(D=await K(n,!0)));y&&(d._f.deps&&le(d._f.deps),we(u,D,h,Ee))}},le=async(s,o={})=>{let u,y;const d=me(s);if(U(!0),r.resolver){const c=await Q(C(s)?s:d);u=M(c),y=s?!d.some(h=>f(c,h)):u}else s?(y=(await Promise.all(d.map(async c=>{const h=f(n,c);return await K(h&&h._f?{[c]:h}:h)}))).every(Boolean),!(!y&&!t.isValid)&&x()):y=u=await K(n);return b.state.next({...!G(s)||v.isValid&&u!==t.isValid?{}:{name:s},...r.resolver||!s?{isValid:u}:{},errors:t.errors,isValidating:!1}),o.shouldFocus&&!y&&Le(n,c=>c&&f(t.errors,c),s?d:m.mount),y},qe=s=>{const o={...a,...g.mount?l:{}};return C(s)?o:G(s)?f(o,s):s.map(u=>f(o,u))},We=(s,o)=>({invalid:!!f((o||t).errors,s),isDirty:!!f((o||t).dirtyFields,s),isTouched:!!f((o||t).touchedFields,s),error:f((o||t).errors,s)}),Pt=s=>{s&&me(s).forEach(o=>R(t.errors,o)),b.state.next({errors:s?t.errors:{}})},He=(s,o,u)=>{const y=(f(n,s,{_f:{}})._f||{}).ref;A(t.errors,s,{...o,ref:y}),b.state.next({name:s,errors:t.errors,isValid:!1}),u&&u.shouldFocus&&y&&y.focus&&y.focus()},It=(s,o)=>J(s)?b.values.subscribe({next:u=>s(k(void 0,o),u)}):k(s,o,!0),Se=(s,o={})=>{for(const u of s?me(s):m.mount)m.mount.delete(u),m.array.delete(u),o.keepValue||(R(n,u),R(l,u)),!o.keepError&&R(t.errors,u),!o.keepDirty&&R(t.dirtyFields,u),!o.keepTouched&&R(t.touchedFields,u),!r.shouldUnregister&&!o.keepDefaultValue&&R(a,u);b.values.next({values:{...l}}),b.state.next({...t,...o.keepDirty?{isDirty:_()}:{}}),!o.keepIsValid&&x()},Ge=({disabled:s,name:o,field:u,fields:y})=>{if(ee(s)){const d=s?void 0:f(l,o,Re(u?u._f:f(y,o)._f));A(l,o,d),re(o,d,!1,!1,!0)}},De=(s,o={})=>{let u=f(n,s);const y=ee(o.disabled);return A(n,s,{...u||{},_f:{...u&&u._f?u._f:{ref:{name:s}},name:s,mount:!0,...o}}),m.mount.add(s),u?Ge({field:u,disabled:o.disabled,name:s}):oe(s,!0,o.value),{...y?{disabled:o.disabled}:{},...r.progressive?{required:!!o.required,min:ce(o.min),max:ce(o.max),minLength:ce(o.minLength),maxLength:ce(o.maxLength),pattern:ce(o.pattern)}:{},name:s,onChange:ue,onBlur:ue,ref:d=>{if(d){De(s,o),u=f(n,s);const c=C(d.value)&&d.querySelectorAll&&d.querySelectorAll("input,select,textarea")[0]||d,h=or(c),D=u._f.refs||[];if(h?D.find(E=>E===c):c===u._f.ref)return;A(n,s,{_f:{...u._f,...h?{refs:[...D.filter(je),c,...Array.isArray(f(a,s))?[{}]:[]],ref:{type:c.type,name:s}}:{ref:c}}}),oe(s,!1,void 0,c)}else u=f(n,s,{}),u._f&&(u._f.mount=!1),(r.shouldUnregister||o.shouldUnregister)&&!(dt(m.array,s)&&g.action)&&m.unMount.add(s)}}},ze=()=>r.shouldFocusError&&Le(n,s=>s&&f(t.errors,s),m.mount),Ke=(s,o)=>async u=>{u&&(u.preventDefault&&u.preventDefault(),u.persist&&u.persist());let y=$(l);if(b.state.next({isSubmitting:!0}),r.resolver){const{errors:d,values:c}=await W();t.errors=d,y=c}else await K(n);R(t.errors,"root"),M(t.errors)?(b.state.next({errors:{}}),await s(y,u)):(o&&await o({...t.errors},u),ze(),setTimeout(ze)),b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:M(t.errors),submitCount:t.submitCount+1,errors:t.errors})},Mt=(s,o={})=>{f(n,s)&&(C(o.defaultValue)?Y(s,f(a,s)):(Y(s,o.defaultValue),A(a,s,o.defaultValue)),o.keepTouched||R(t.touchedFields,s),o.keepDirty||(R(t.dirtyFields,s),t.isDirty=o.defaultValue?_(s,f(a,s)):_()),o.keepError||(R(t.errors,s),v.isValid&&x()),b.state.next({...t}))},Xe=(s,o={})=>{const u=s?$(s):a,y=$(u),d=s&&!M(s)?y:a;if(o.keepDefaultValues||(a=u),!o.keepValues){if(o.keepDirtyValues||q)for(const c of m.mount)f(t.dirtyFields,c)?A(d,c,f(l,c)):Y(c,f(d,c));else{if(Ie&&C(s))for(const c of m.mount){const h=f(n,c);if(h&&h._f){const D=Array.isArray(h._f.refs)?h._f.refs[0]:h._f.ref;if(ve(D)){const E=D.closest("form");if(E){E.reset();break}}}}n={}}l=e.shouldUnregister?o.keepDefaultValues?$(a):{}:$(d),b.array.next({values:{...d}}),b.values.next({values:{...d}})}m={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!g.mount&&i(),g.mount=!v.isValid||!!o.keepIsValid,g.watch=!!e.shouldUnregister,b.state.next({submitCount:o.keepSubmitCount?t.submitCount:0,isDirty:o.keepDirty?t.isDirty:!!(o.keepDefaultValues&&!te(s,a)),isSubmitted:o.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:o.keepDirtyValues?t.dirtyFields:o.keepDefaultValues&&s?Oe(a,s):{},touchedFields:o.keepTouched?t.touchedFields:{},errors:o.keepErrors?t.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},Je=(s,o)=>Xe(J(s)?s(l):s,o);return{control:{register:De,unregister:Se,getFieldState:We,handleSubmit:Ke,setError:He,_executeSchema:W,_getWatch:k,_getDirty:_,_updateValid:x,_removeUnmounted:V,_updateFieldArray:z,_updateDisabledField:Ge,_getFieldArray:P,_reset:Xe,_resetDefaultValues:()=>J(r.defaultValues)&&r.defaultValues().then(s=>{Je(s,r.resetOptions),b.state.next({isLoading:!1})}),_updateFormState:s=>{t={...t,...s}},_subjects:b,_proxyFormState:v,get _fields(){return n},get _formValues(){return l},get _state(){return g},set _state(s){g=s},get _defaultValues(){return a},get _names(){return m},set _names(s){m=s},get _formState(){return t},set _formState(s){t=s},get _options(){return r},set _options(s){r={...r,...s}}},trigger:le,register:De,handleSubmit:Ke,watch:It,setValue:Y,getValues:qe,reset:Je,resetField:Mt,clearErrors:Pt,unregister:Se,setError:He,setFocus:(s,o={})=>{const u=f(n,s),y=u&&u._f;if(y){const d=y.refs?y.refs[0]:y.ref;d.focus&&(d.focus(),o.shouldSelect&&d.select())}},getFieldState:We}}function mr(e={}){const i=S.useRef(),r=S.useRef(),[t,n]=S.useState({isDirty:!1,isValidating:!1,isLoading:J(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:J(e.defaultValues)?void 0:e.defaultValues});i.current||(i.current={...yr(e,()=>n(l=>({...l}))),formState:t});const a=i.current.control;return a._options=e,Me({subject:a._subjects.state,next:l=>{ht(l,a._proxyFormState,a._updateFormState,!0)&&n({...a._formState})}}),S.useEffect(()=>{e.values&&!te(e.values,r.current)?(a._reset(e.values,a._options.resetOptions),r.current=e.values):a._resetDefaultValues()},[e.values,a]),S.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),i.current.formState=mt(t,a),i.current}var ut=function(e,i,r){if(e&&"reportValidity"in e){var t=f(r,i);e.setCustomValidity(t&&t.message||""),e.reportValidity()}},St=function(e,i){var r=function(n){var a=i.fields[n];a&&a.ref&&"reportValidity"in a.ref?ut(a.ref,n,e):a.refs&&a.refs.forEach(function(l){return ut(l,n,e)})};for(var t in i.fields)r(t)},hr=function(e,i){i.shouldUseNativeValidation&&St(e,i);var r={};for(var t in e){var n=f(i.fields,t),a=Object.assign(e[t]||{},{ref:n&&n.ref});if(vr(i.names||Object.keys(e),t)){var l=Object.assign({},gr(f(r,t)));A(l,"root",a),A(r,t,l)}else A(r,t,a)}return r},gr=function(e){return Array.isArray(e)?e.filter(Boolean):[]},vr=function(e,i){return e.some(function(r){return r.startsWith(i+".")})},br=function(e,i){for(var r={};e.length;){var t=e[0],n=t.code,a=t.message,l=t.path.join(".");if(!r[l])if("unionErrors"in t){var g=t.unionErrors[0].errors[0];r[l]={message:g.message,type:g.code}}else r[l]={message:a,type:n};if("unionErrors"in t&&t.unionErrors.forEach(function(w){return w.errors.forEach(function(v){return e.push(v)})}),i){var m=r[l].types,F=m&&m[t.code];r[l]=xt(l,i,r,n,F?[].concat(F,t.message):t.message)}e.shift()}return r},xr=function(e,i,r){return r===void 0&&(r={}),function(t,n,a){try{return Promise.resolve(function(l,g){try{var m=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](t,i)).then(function(F){return a.shouldUseNativeValidation&&St({},a),{errors:{},values:r.raw?t:F}})}catch(F){return g(F)}return m&&m.then?m.then(void 0,g):m}(0,function(l){if(function(g){return g.errors!=null}(l))return{values:{},errors:hr(br(l.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw l}))}catch(l){return Promise.reject(l)}}};const pr=T.forwardRef((e,i)=>T.createElement(qt.label,Wt({},e,{ref:i,onMouseDown:r=>{var t;(t=e.onMouseDown)===null||t===void 0||t.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault()}}))),Dt=pr,_r=Ht("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),kt=T.forwardRef(({className:e,...i},r)=>p.jsx(Dt,{ref:r,className:ae(_r(),e),...i}));kt.displayName=Dt.displayName;const Fr=Zt,Et=T.createContext({}),Vr=({...e})=>p.jsx(Et.Provider,{value:{name:e.name},children:p.jsx(sr,{...e})}),Fe=()=>{const e=T.useContext(Et),i=T.useContext(Ct),{getFieldState:r,formState:t}=_e(),n=r(e.name,t);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:a}=i;return{id:a,name:e.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...n}},Ct=T.createContext({}),Tt=T.forwardRef(({className:e,...i},r)=>{const t=T.useId();return p.jsx(Ct.Provider,{value:{id:t},children:p.jsx("div",{ref:r,className:ae("space-y-2",e),...i})})});Tt.displayName="FormItem";const jt=T.forwardRef(({className:e,...i},r)=>{const{error:t,formItemId:n}=Fe();return p.jsx(kt,{ref:r,className:ae(t&&"text-destructive",e),htmlFor:n,...i})});jt.displayName="FormLabel";const Ot=T.forwardRef(({...e},i)=>{const{error:r,formItemId:t,formDescriptionId:n,formMessageId:a}=Fe();return p.jsx(Gt,{ref:i,id:t,"aria-describedby":r?`${n} ${a}`:`${n}`,"aria-invalid":!!r,...e})});Ot.displayName="FormControl";const Rt=T.forwardRef(({className:e,...i},r)=>{const{formDescriptionId:t}=Fe();return p.jsx("p",{ref:r,id:t,className:ae("text-sm text-muted-foreground",e),...i})});Rt.displayName="FormDescription";const Nt=T.forwardRef(({className:e,children:i,...r},t)=>{const{error:n,formMessageId:a}=Fe(),l=n?String(n==null?void 0:n.message):i;return l?p.jsx("p",{ref:t,id:a,className:ae("text-sm font-medium text-destructive",e),...r,children:l}):null});Nt.displayName="FormMessage";const Ar=zt([Ze("gpt-3.5-turbo"),Ze("gpt-4")]),wr=Kt({secret:Ce().min(10),model:Ar.default("gpt-4"),context:Ce().optional(),temperature:Xt().min(.2).max(1).default(.7),prompt:Ce().min(10)}),Lt=T.forwardRef(({className:e,type:i,...r},t)=>p.jsx("input",{type:i,className:ae("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...r}));Lt.displayName="Input";const Ne=1,Sr=({step:e,form:i,children:r})=>{const{t}=lt(["form"]);return p.jsxs(Jt.div,{className:"p-1",animate:{translateX:`${-(e-Ne)*400}px`},style:{translateX:`${-(e-Ne)*400}px`},transition:{ease:"easeInOut"},children:[p.jsx("h1",{className:"font-medium text-medium text-xl mb-3",children:t("step1.heading")}),p.jsx(Vr,{control:i.control,name:"secret",render:({field:n})=>p.jsxs(Tt,{children:[p.jsx(jt,{className:"text-md",children:t("step1.title")}),p.jsx(Rt,{children:t("step1.description")}),p.jsx(Ot,{children:p.jsx(Lt,{...n,"data-testid":"form-input",placeholder:"sk-...",disabled:e!==Ne})}),p.jsx(Nt,{})]})}),r]})},Dr=T.lazy(()=>Pe(()=>import("./gpt-form-step-2-74526bc5.js"),["assets/gpt-form-step-2-74526bc5.js","assets/index-06035c1a.js","assets/index-e3e0ef38.css","assets/index-82dd9d99.js"])),kr=T.lazy(()=>Pe(()=>import("./gpt-form-step-3-ff4c137c.js"),["assets/gpt-form-step-3-ff4c137c.js","assets/index-06035c1a.js","assets/index-e3e0ef38.css","assets/textarea-bc5842ec.js"])),Er=T.lazy(()=>Pe(()=>import("./gpt-form-step-4-ae2301b2.js"),["assets/gpt-form-step-4-ae2301b2.js","assets/index-06035c1a.js","assets/index-e3e0ef38.css","assets/textarea-bc5842ec.js","assets/index-82dd9d99.js","assets/index-b076c3dd.js"]));function Cr({setQuery:e,setMessages:i,children:r}){const[t,n]=T.useState(1),[a,l]=T.useState(!1),{t:g}=lt(["form"]),m=mr({resolver:xr(wr),defaultValues:{secret:"",model:"gpt-4",temperature:.7,prompt:""}});function F(){m.trigger("secret");const v=m.getFieldState("secret");!v.isDirty||v.invalid||n(b=>b+1)}function w(v){l(!0),e({model:v.model,secret:v.secret,context:v.context,prompt:v.prompt,temperature:v.temperature}),i(b=>[...b,{content:v.prompt,role:"user"}]),m.resetField("prompt")}return p.jsx(Fr,{...m,children:p.jsxs("form",{onSubmit:m.handleSubmit(w),className:"relative min-h-[400px] mt-1 overflow-x-hidden",children:[p.jsx(Sr,{form:m,step:t,children:p.jsx(Z,{"data-testid":"next-step-1",type:"button",className:"flex gap-3 mt-3",disabled:t!==1,onClick:F,children:g("next")})}),p.jsx(Dr,{form:m,step:t,children:p.jsxs("div",{className:"flex gap-3 mt-3",children:[p.jsx(Z,{"data-testid":"next-step-2",type:"button",onClick:()=>n(v=>v+1),disabled:t!==2,children:g("next")}),p.jsx(Z,{"data-testid":"back-step-2",type:"button",variant:"ghost",onClick:()=>n(v=>v-1),disabled:t!==2,children:g("back")})]})}),p.jsx(kr,{form:m,step:t,children:p.jsxs("div",{className:"flex gap-3 mt-3",children:[p.jsx(Z,{"data-testid":"next-step-3",type:"button",disabled:t!==3,onClick:()=>n(v=>v+1),children:g("next")}),p.jsx(Z,{"data-testid":"back-step-2",type:"button",variant:"ghost",onClick:()=>n(v=>v-1),disabled:t!==3,children:g("back")})]})}),p.jsx(Er,{form:m,step:t,submitted:a,children:p.jsxs("div",{className:"flex gap-3 mt-3",children:[p.jsx(Z,{"data-testid":"submit",type:"submit",disabled:t!==4,children:g("submit")}),p.jsx(Z,{"data-testid":"back-step-3",type:"button",variant:"ghost",onClick:()=>n(v=>v-1),disabled:t!==4,children:g("back")}),a&&t===4&&r]})})]})})}const Nr=Object.freeze(Object.defineProperty({__proto__:null,default:Cr},Symbol.toStringTag,{value:"Module"}));export{Vr as F,Tt as a,jt as b,Rt as c,Ot as d,Nt as e,Nr as g};
