import{r as i,j as l,c as ne,g as Se,h as ge,k as j,G as ve,_ as D,q as C,$ as N,L as we,F as ye,d as Ee,m as I,B as X}from"./index-714dce70.js";import{F as G,a as W,b as q,c as J,d as Q,e as Z}from"./gpt-form-2b245206.js";import{$ as De,a as oe}from"./index-0610c31c.js";import{A as F}from"./index-108068f1.js";const ae=i.forwardRef(({className:e,...n},o)=>l.jsx("textarea",{className:ne("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:o,...n}));ae.displayName="Textarea";const re=["PageUp","PageDown"],ie=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],se={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},V="Slider",[H,Pe,Re]=Se(V),[ce,Ze]=ge(V,[Re]),[_e,A]=ce(V),Ce=i.forwardRef((e,n)=>{const{name:o,min:a=0,max:c=100,step:t=1,orientation:d="horizontal",disabled:r=!1,minStepsBetweenThumbs:u=0,defaultValue:$=[a],value:h,onValueChange:s=()=>{},onValueCommit:f=()=>{},inverted:w=!1,...S}=e,[x,b]=i.useState(null),y=j(n,p=>b(p)),R=i.useRef(new Set),m=i.useRef(0),E=d==="horizontal",M=x?!!x.closest("form"):!0,L=E?je:Me,[g=[],$e]=ve({prop:h,defaultProp:$,onChange:p=>{var v;(v=[...R.current][m.current])===null||v===void 0||v.focus(),s(p)}}),O=i.useRef(g);function xe(p){const v=Fe(g,p);K(p,v)}function he(p){K(p,m.current)}function be(){const p=O.current[m.current];g[m.current]!==p&&f(g)}function K(p,v,{commit:k}={commit:!1}){const U=Oe(t),T=Ue(Math.round((p-a)/t)*t+a,U),B=oe(T,[a,c]);$e((_=[])=>{const P=Ae(_,B,v);if(Le(P,u*t)){m.current=P.indexOf(B);const Y=String(P)!==String(_);return Y&&k&&f(P),Y?P:_}else return _})}return i.createElement(_e,{scope:e.__scopeSlider,disabled:r,min:a,max:c,valueIndexToChangeRef:m,thumbs:R.current,values:g,orientation:d},i.createElement(H.Provider,{scope:e.__scopeSlider},i.createElement(H.Slot,{scope:e.__scopeSlider},i.createElement(L,D({"aria-disabled":r,"data-disabled":r?"":void 0},S,{ref:y,onPointerDown:C(S.onPointerDown,()=>{r||(O.current=g)}),min:a,max:c,inverted:w,onSlideStart:r?void 0:xe,onSlideMove:r?void 0:he,onSlideEnd:r?void 0:be,onHomeKeyDown:()=>!r&&K(a,0,{commit:!0}),onEndKeyDown:()=>!r&&K(c,g.length-1,{commit:!0}),onStepKeyDown:({event:p,direction:v})=>{if(!r){const T=re.includes(p.key)||p.shiftKey&&ie.includes(p.key)?10:1,B=m.current,_=g[B],P=t*T*v;K(_+P,B,{commit:!0})}}})))),M&&g.map((p,v)=>i.createElement(Ne,{key:v,name:o?o+(g.length>1?"[]":""):void 0,value:p})))}),[le,de]=ce(V,{startEdge:"left",endEdge:"right",size:"width",direction:1}),je=i.forwardRef((e,n)=>{const{min:o,max:a,dir:c,inverted:t,onSlideStart:d,onSlideMove:r,onSlideEnd:u,onStepKeyDown:$,...h}=e,[s,f]=i.useState(null),w=j(n,m=>f(m)),S=i.useRef(),x=ye(c),b=x==="ltr",y=b&&!t||!b&&t;function R(m){const E=S.current||s.getBoundingClientRect(),M=[0,E.width],g=z(M,y?[o,a]:[a,o]);return S.current=E,g(m-E.left)}return i.createElement(le,{scope:e.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width"},i.createElement(fe,D({dir:x,"data-orientation":"horizontal"},h,{ref:w,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:m=>{const E=R(m.clientX);d==null||d(E)},onSlideMove:m=>{const E=R(m.clientX);r==null||r(E)},onSlideEnd:()=>{S.current=void 0,u==null||u()},onStepKeyDown:m=>{const M=se[y?"from-left":"from-right"].includes(m.key);$==null||$({event:m,direction:M?-1:1})}})))}),Me=i.forwardRef((e,n)=>{const{min:o,max:a,inverted:c,onSlideStart:t,onSlideMove:d,onSlideEnd:r,onStepKeyDown:u,...$}=e,h=i.useRef(null),s=j(n,h),f=i.useRef(),w=!c;function S(x){const b=f.current||h.current.getBoundingClientRect(),y=[0,b.height],m=z(y,w?[a,o]:[o,a]);return f.current=b,m(x-b.top)}return i.createElement(le,{scope:e.__scopeSlider,startEdge:w?"bottom":"top",endEdge:w?"top":"bottom",size:"height",direction:w?1:-1},i.createElement(fe,D({"data-orientation":"vertical"},$,{ref:s,style:{...$.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const b=S(x.clientY);t==null||t(b)},onSlideMove:x=>{const b=S(x.clientY);d==null||d(b)},onSlideEnd:()=>{f.current=void 0,r==null||r()},onStepKeyDown:x=>{const y=se[w?"from-bottom":"from-top"].includes(x.key);u==null||u({event:x,direction:y?-1:1})}})))}),fe=i.forwardRef((e,n)=>{const{__scopeSlider:o,onSlideStart:a,onSlideMove:c,onSlideEnd:t,onHomeKeyDown:d,onEndKeyDown:r,onStepKeyDown:u,...$}=e,h=A(V,o);return i.createElement(N.span,D({},$,{ref:n,onKeyDown:C(e.onKeyDown,s=>{s.key==="Home"?(d(s),s.preventDefault()):s.key==="End"?(r(s),s.preventDefault()):re.concat(ie).includes(s.key)&&(u(s),s.preventDefault())}),onPointerDown:C(e.onPointerDown,s=>{const f=s.target;f.setPointerCapture(s.pointerId),s.preventDefault(),h.thumbs.has(f)?f.focus():a(s)}),onPointerMove:C(e.onPointerMove,s=>{s.target.hasPointerCapture(s.pointerId)&&c(s)}),onPointerUp:C(e.onPointerUp,s=>{const f=s.target;f.hasPointerCapture(s.pointerId)&&(f.releasePointerCapture(s.pointerId),t(s))})}))}),Ke="SliderTrack",Be=i.forwardRef((e,n)=>{const{__scopeSlider:o,...a}=e,c=A(Ke,o);return i.createElement(N.span,D({"data-disabled":c.disabled?"":void 0,"data-orientation":c.orientation},a,{ref:n}))}),ee="SliderRange",Ve=i.forwardRef((e,n)=>{const{__scopeSlider:o,...a}=e,c=A(ee,o),t=de(ee,o),d=i.useRef(null),r=j(n,d),u=c.values.length,$=c.values.map(f=>ue(f,c.min,c.max)),h=u>1?Math.min(...$):0,s=100-Math.max(...$);return i.createElement(N.span,D({"data-orientation":c.orientation,"data-disabled":c.disabled?"":void 0},a,{ref:r,style:{...e.style,[t.startEdge]:h+"%",[t.endEdge]:s+"%"}}))}),te="SliderThumb",ke=i.forwardRef((e,n)=>{const o=Pe(e.__scopeSlider),[a,c]=i.useState(null),t=j(n,r=>c(r)),d=i.useMemo(()=>a?o().findIndex(r=>r.ref.current===a):-1,[o,a]);return i.createElement(Ie,D({},e,{ref:t,index:d}))}),Ie=i.forwardRef((e,n)=>{const{__scopeSlider:o,index:a,...c}=e,t=A(te,o),d=de(te,o),[r,u]=i.useState(null),$=j(n,b=>u(b)),h=we(r),s=t.values[a],f=s===void 0?0:ue(s,t.min,t.max),w=Te(a,t.values.length),S=h==null?void 0:h[d.size],x=S?He(S,f,d.direction):0;return i.useEffect(()=>{if(r)return t.thumbs.add(r),()=>{t.thumbs.delete(r)}},[r,t.thumbs]),i.createElement("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[d.startEdge]:`calc(${f}% + ${x}px)`}},i.createElement(H.ItemSlot,{scope:e.__scopeSlider},i.createElement(N.span,D({role:"slider","aria-label":e["aria-label"]||w,"aria-valuemin":t.min,"aria-valuenow":s,"aria-valuemax":t.max,"aria-orientation":t.orientation,"data-orientation":t.orientation,"data-disabled":t.disabled?"":void 0,tabIndex:t.disabled?void 0:0},c,{ref:$,style:s===void 0?{display:"none"}:e.style,onFocus:C(e.onFocus,()=>{t.valueIndexToChangeRef.current=a})}))))}),Ne=e=>{const{value:n,...o}=e,a=i.useRef(null),c=De(n);return i.useEffect(()=>{const t=a.current,d=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(d,"value").set;if(c!==n&&u){const $=new Event("input",{bubbles:!0});u.call(t,n),t.dispatchEvent($)}},[c,n]),i.createElement("input",D({style:{display:"none"}},o,{ref:a,defaultValue:n}))};function Ae(e=[],n,o){const a=[...e];return a[o]=n,a.sort((c,t)=>c-t)}function ue(e,n,o){const t=100/(o-n)*(e-n);return oe(t,[0,100])}function Te(e,n){return n>2?`Value ${e+1} of ${n}`:n===2?["Minimum","Maximum"][e]:void 0}function Fe(e,n){if(e.length===1)return 0;const o=e.map(c=>Math.abs(c-n)),a=Math.min(...o);return o.indexOf(a)}function He(e,n,o){const a=e/2,t=z([0,50],[0,a]);return(a-t(n)*o)*o}function ze(e){return e.slice(0,-1).map((n,o)=>e[o+1]-n)}function Le(e,n){if(n>0){const o=ze(e);return Math.min(...o)>=n}return!0}function z(e,n){return o=>{if(e[0]===e[1]||n[0]===n[1])return n[0];const a=(n[1]-n[0])/(e[1]-e[0]);return n[0]+a*(o-e[0])}}function Oe(e){return(String(e).split(".")[1]||"").length}function Ue(e,n){const o=Math.pow(10,n);return Math.round(e*o)/o}const me=Ce,Ye=Be,Xe=Ve,Ge=ke,pe=i.forwardRef(({className:e,...n},o)=>l.jsxs(me,{ref:o,className:ne("relative flex w-full touch-none select-none items-center",e),...n,children:[l.jsx(Ye,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:l.jsx(Xe,{className:"absolute h-full bg-primary"})}),l.jsx(Ge,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));pe.displayName=me.displayName;const et=({step:e,form:n,onBack:o})=>{const[a,c]=i.useState(!1),{t}=Ee(["form"]),d=r=>{if(r<.4)return t("degree.bland");if(r<.6)return t("degree.certain");if(r<.8)return t("degree.creative");if(r<=1)return t("degree.random")};return l.jsxs(I.div,{className:"flex absolute p-1 left-0 right-0 top-0 flex-col",animate:{translateX:`${-(e-3)*400}px`},style:{translateX:`${-(e-3)*400}px`},transition:{ease:"easeInOut"},children:[l.jsx(F,{children:!a&&l.jsx(I.div,{initial:{opacity:1,height:"auto",marginBottom:"12px"},exit:{opacity:0,height:0,marginBottom:"0px"},transition:{duration:1,delay:1},children:l.jsx("h1",{className:"font-medium text-xl",children:t("step3.heading")})})}),l.jsx(G,{control:n.control,name:"prompt",render:({field:r})=>l.jsxs(W,{className:"space-y-0",children:[l.jsx(q,{className:"text-md block mb-1.5",children:t("step3.title1")}),l.jsx(F,{children:!a&&l.jsx(I.div,{initial:{opacity:1,height:"auto",marginBottom:"6px"},exit:{opacity:0,height:0,marginBottom:"0px"},transition:{duration:1,delay:1},children:l.jsx(J,{children:t("step3.description1")})})}),l.jsx(Q,{children:l.jsx(ae,{rows:2,placeholder:t("step3.placeholder"),...r,disabled:e!==3})}),l.jsx(Z,{})]})}),l.jsx(G,{control:n.control,name:"temperature",render:({field:r})=>l.jsxs(W,{className:"mt-3 space-y-0",children:[l.jsx(q,{className:"text-md block mb-1.5",children:t("step3.title2")}),l.jsx(F,{children:!a&&l.jsx(I.div,{initial:{opacity:1,height:"auto",marginBottom:"12px"},exit:{opacity:0,height:0,marginBottom:"0px"},transition:{duration:1,delay:1},children:l.jsx(J,{children:t("step3.description2")})})}),l.jsxs("div",{className:"flex flex-row gap-3 w-auto",children:[l.jsx(Q,{className:"w-48",children:l.jsx(pe,{disabled:e!==3,min:.2,max:1,step:.05,defaultValue:[r.value],onValueChange:u=>{r.onChange(u[0])}})}),l.jsx("span",{className:"font-medium w-8",children:r.value.toFixed(2)}),l.jsx("span",{className:"font-thin",children:d(r.value)})]}),l.jsx(Z,{})]})}),l.jsxs("div",{className:"flex gap-3 mt-3",children:[l.jsx(X,{type:"submit",onClick:()=>c(!0),disabled:e!==3,children:t("submit")}),l.jsx(X,{type:"button",variant:"ghost",onClick:o,disabled:e!==3,children:t("back")})]})]})};export{et as default};
