import{f as l,r as p,j as t,B as x,c as s,m as d,d as u}from"./index-06035c1a.js";import{A as y}from"./index-b076c3dd.js";const f=l("CopyCheck",[["path",{d:"m12 15 2 2 4-4",key:"2c609p"}],["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),h=l("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),m=({textToCopy:e,className:o})=>{const[i,a]=p.useState(!1);async function n(r){return"clipboard"in navigator?await navigator.clipboard.writeText(r):document.execCommand("copy",!0,r)}function c(){n(e).then(()=>{a(!0),setTimeout(()=>{a(!1)},1500)}).catch(r=>{console.log(r)})}return t.jsx(x,{variant:"outline",onClick:c,className:s("px-1 py-1 h-fit w-fit",o),children:i?t.jsx(f,{size:18}):t.jsx(h,{size:18})})},w=({message:e})=>t.jsxs(d.div,{initial:{opacity:0,x:(e.role==="assistant"?1:-1)*100},animate:{opacity:1,x:0},exit:{opacity:0,x:(e.role==="assistant"?1:-1)*100},className:s("flex flex-row gap-1.5 w-auto h-auto max-w-[66vw] px-3 py-1.5 rounded-xl shadow-md",e.role==="user"?"bg-primary text-primary-foreground self-start":"border-2 bg-background self-end"),children:[t.jsx("pre",{className:s("whitespace-pre-line break-words",e.role==="assistant"&&"after:h-[1em] after:tracking-[1rem] after:content-['\x000a0']"),children:e.content}),t.jsx(m,{textToCopy:e.content,className:s({hidden:e.role==="user"})})]}),b=p.forwardRef(({messages:e,isFetching:o},i)=>{const{t:a}=u(["messages"]);return e.length>0?t.jsx("div",{ref:i,className:"absolute flex flex-col gap-4 w-full max-w-[1000px] px-3 md:px-20 pb-10 pt-7 z-10",children:t.jsxs(y,{initial:!1,children:[e.map((n,c)=>t.jsx(w,{message:n},c)),o&&t.jsx(d.div,{className:"self-end",initial:{opacity:0,x:100},animate:{opacity:1,x:0},children:t.jsx("p",{className:"font-sans px-3 py-1.5 rounded-xl w-fit shadow-md bg-background border-2 ml-5",children:a("typing")})})]})}):null});export{b as default};
