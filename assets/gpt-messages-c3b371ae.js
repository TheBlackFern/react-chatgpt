import{f as l,r as d,j as e,B as x,c as o,m as p,d as u}from"./index-62440e67.js";import{A as m}from"./index-62f805e1.js";const f=l("CopyCheck",[["path",{d:"m12 15 2 2 4-4",key:"2c609p"}],["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),h=l("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),y=({textToCopy:t,className:s})=>{const[i,n]=d.useState(!1);async function r(a){return"clipboard"in navigator?await navigator.clipboard.writeText(a):document.execCommand("copy",!0,a)}function c(){r(t).then(()=>{n(!0),setTimeout(()=>{n(!1)},1500)}).catch(a=>{console.log(a)})}return e.jsx(x,{variant:"outline",onClick:c,className:o("px-1 py-1 h-fit w-fit",s),children:i?e.jsx(f,{size:18}):e.jsx(h,{size:18})})},w=({message:t})=>e.jsxs(p.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},className:o("flex flex-row gap-1.5 w-auto max-w-[66vw] px-3 py-1.5 rounded-xl shadow-md",t.role==="user"?"bg-primary text-primary-foreground self-start":"border-2 bg-background self-end"),children:[e.jsx("pre",{className:o("whitespace-pre-line break-words",t.role==="assistant"&&"after:h-[1em] after:tracking-[1rem] after:content-['\x000a0']"),children:t.content}),e.jsx(y,{textToCopy:t.content,className:o({hidden:t.role==="user"})})]}),C=d.forwardRef(({messages:t,error:s,isFetching:i},n)=>{const{t:r}=u(["messages"]);return t.length>0?e.jsxs("div",{ref:n,className:"absolute flex flex-col gap-4 w-full max-w-[1000px] px-3 md:px-20 pb-10 pt-7 z-10",children:[e.jsxs(m,{initial:!1,children:[t.map((c,a)=>e.jsx(w,{message:c},a)),i&&e.jsx(p.div,{className:"self-end",initial:{opacity:0,x:100},animate:{opacity:1,x:0},children:e.jsx("p",{className:"font-sans px-3 py-1.5 rounded-xl w-fit shadow-md bg-background border-2 ml-5",children:r("typing")})})]}),s&&e.jsxs("p",{className:"text-destructive text-center [text-wrap:balance] font-medium text-lg",children:[r("error")," ",s.message==="401"?r("error-cred"):""]})]}):null});export{C as default};
