import{R as S,r as N,$ as Ut,_ as Bt,j as w,c as ne,a as $t,b as qt,u as Wt,l as Xe,o as Ht,s as Je,n as Gt,d as zt,m as Kt,B as Xt,e as ot}from"./index-714dce70.js";var ce=e=>e.type==="checkbox",ie=e=>e instanceof Date,L=e=>e==null;const at=e=>typeof e=="object";var T=e=>!L(e)&&!Array.isArray(e)&&at(e)&&!ie(e),ut=e=>T(e)&&e.target?ce(e.target)?e.target.checked:e.target.value:e,Jt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,lt=(e,i)=>e.has(Jt(i)),Qt=e=>{const i=e.constructor&&e.constructor.prototype;return T(i)&&i.hasOwnProperty("isPrototypeOf")},Ne=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function B(e){let i;const t=Array.isArray(e);if(e instanceof Date)i=new Date(e);else if(e instanceof Set)i=new Set(e);else if(!(Ne&&(e instanceof Blob||e instanceof FileList))&&(t||T(e)))if(i=t?[]:{},!t&&!Qt(e))i=e;else for(const r in e)e.hasOwnProperty(r)&&(i[r]=B(e[r]));else return e;return i}var fe=e=>Array.isArray(e)?e.filter(Boolean):[],C=e=>e===void 0,f=(e,i,t)=>{if(!i||!T(e))return t;const r=fe(i.split(/[,[\].]+?/)).reduce((n,o)=>L(n)?n:n[o],e);return C(r)||r===e?C(e[i])?t:e[i]:r};const he={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},$={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},X={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},ct=S.createContext(null),_e=()=>S.useContext(ct),Yt=e=>{const{children:i,...t}=e;return S.createElement(ct.Provider,{value:t},i)};var ft=(e,i,t,r=!0)=>{const n={defaultValues:i._defaultValues};for(const o in e)Object.defineProperty(n,o,{get:()=>{const l=o;return i._proxyFormState[l]!==$.all&&(i._proxyFormState[l]=!r||$.all),t&&(t[l]=!0),e[l]}});return n},M=e=>T(e)&&!Object.keys(e).length,dt=(e,i,t,r)=>{t(e);const{name:n,...o}=e;return M(o)||Object.keys(o).length>=Object.keys(i).length||Object.keys(o).find(l=>i[l]===(!r||$.all))},ye=e=>Array.isArray(e)?e:[e],yt=(e,i,t)=>t&&i?e===i||Array.isArray(e)&&e.some(r=>r&&t&&r===i):!e||!i||e===i||ye(e).some(r=>r&&(r.startsWith(i)||i.startsWith(r)));function je(e){const i=S.useRef(e);i.current=e,S.useEffect(()=>{const t=!e.disabled&&i.current.subject&&i.current.subject.subscribe({next:i.current.next});return()=>{t&&t.unsubscribe()}},[e.disabled])}function Zt(e){const i=_e(),{control:t=i.control,disabled:r,name:n,exact:o}=e||{},[l,g]=S.useState(t._formState),h=S.useRef(!0),v=S.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),F=S.useRef(n);return F.current=n,je({disabled:r,next:p=>h.current&&yt(F.current,p.name,o)&&dt(p,v.current,t._updateFormState)&&g({...t._formState,...p}),subject:t._subjects.state}),S.useEffect(()=>(h.current=!0,v.current.isValid&&t._updateValid(!0),()=>{h.current=!1}),[t]),ft(l,t,v.current,!1)}var G=e=>typeof e=="string",mt=(e,i,t,r,n)=>G(e)?(r&&i.watch.add(e),f(t,e,n)):Array.isArray(e)?e.map(o=>(r&&i.watch.add(o),f(t,o))):(r&&(i.watchAll=!0),t);function er(e){const i=_e(),{control:t=i.control,name:r,defaultValue:n,disabled:o,exact:l}=e||{},g=S.useRef(r);g.current=r,je({disabled:o,subject:t._subjects.values,next:F=>{yt(g.current,F.name,l)&&v(B(mt(g.current,t._names,F.values||t._formValues,!1,n)))}});const[h,v]=S.useState(t._getWatch(r,n));return S.useEffect(()=>t._removeUnmounted()),h}var Le=e=>/^\w*$/.test(e),ht=e=>fe(e.replace(/["|']|\]/g,"").split(/\.|\[/));function A(e,i,t){let r=-1;const n=Le(i)?[i]:ht(i),o=n.length,l=o-1;for(;++r<o;){const g=n[r];let h=t;if(r!==l){const v=e[g];h=T(v)||Array.isArray(v)?v:isNaN(+n[r+1])?{}:[]}e[g]=h,e=e[g]}return e}function tr(e){const i=_e(),{name:t,disabled:r,control:n=i.control,shouldUnregister:o}=e,l=lt(n._names.array,t),g=er({control:n,name:t,defaultValue:f(n._formValues,t,f(n._defaultValues,t,e.defaultValue)),exact:!0}),h=Zt({control:n,name:t}),v=S.useRef(n.register(t,{...e.rules,value:g}));return v.current=n.register(t,e.rules),S.useEffect(()=>{const F=n._options.shouldUnregister||o,p=(b,q)=>{const j=f(n._fields,b);j&&(j._f.mount=q)};if(p(t,!0),F){const b=B(f(n._options.defaultValues,t));A(n._defaultValues,t,b),C(f(n._formValues,t))&&A(n._formValues,t,b)}return()=>{(l?F&&!n._state.action:F)?n.unregister(t):p(t,!1)}},[t,n,l,o]),S.useEffect(()=>{n._updateDisabledField({disabled:r,fields:n._fields,name:t})},[r,t,n]),{field:{name:t,value:g,disabled:r,onChange:S.useCallback(F=>v.current.onChange({target:{value:ut(F),name:t},type:he.CHANGE}),[t]),onBlur:S.useCallback(()=>v.current.onBlur({target:{value:f(n._formValues,t),name:t},type:he.BLUR}),[t,n]),ref:F=>{const p=f(n._fields,t);p&&F&&(p._f.ref={focus:()=>F.focus(),select:()=>F.select(),setCustomValidity:b=>F.setCustomValidity(b),reportValidity:()=>F.reportValidity()})}},formState:h,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!f(h.errors,t)},isDirty:{enumerable:!0,get:()=>!!f(h.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!f(h.touchedFields,t)},error:{enumerable:!0,get:()=>f(h.errors,t)}})}}const rr=e=>e.render(tr(e));var gt=(e,i,t,r,n)=>i?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[r]:n||!0}}:{};const Re=(e,i,t)=>{for(const r of t||Object.keys(e)){const n=f(e,r);if(n){const{_f:o,...l}=n;if(o&&i(o.name)){if(o.ref.focus){o.ref.focus();break}else if(o.refs&&o.refs[0].focus){o.refs[0].focus();break}}else T(l)&&Re(l,i)}}};var Qe=e=>({isOnSubmit:!e||e===$.onSubmit,isOnBlur:e===$.onBlur,isOnChange:e===$.onChange,isOnAll:e===$.all,isOnTouch:e===$.onTouched}),Ye=(e,i,t)=>!t&&(i.watchAll||i.watch.has(e)||[...i.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length)))),sr=(e,i,t)=>{const r=fe(f(e,t));return A(r,"root",i[t]),A(e,t,r),e},Z=e=>typeof e=="boolean",Ie=e=>e.type==="file",J=e=>typeof e=="function",ge=e=>{if(!Ne)return!1;const i=e?e.ownerDocument:0;return e instanceof(i&&i.defaultView?i.defaultView.HTMLElement:HTMLElement)},me=e=>G(e),Pe=e=>e.type==="radio",ve=e=>e instanceof RegExp;const Ze={value:!1,isValid:!1},et={value:!0,isValid:!0};var vt=e=>{if(Array.isArray(e)){if(e.length>1){const i=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:i,isValid:!!i.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!C(e[0].attributes.value)?C(e[0].value)||e[0].value===""?et:{value:e[0].value,isValid:!0}:et:Ze}return Ze};const tt={isValid:!1,value:null};var bt=e=>Array.isArray(e)?e.reduce((i,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:i,tt):tt;function rt(e,i,t="validate"){if(me(e)||Array.isArray(e)&&e.every(me)||Z(e)&&!e)return{type:t,message:me(e)?e:"",ref:i}}var se=e=>T(e)&&!ve(e)?e:{value:e,message:""},st=async(e,i,t,r,n)=>{const{ref:o,refs:l,required:g,maxLength:h,minLength:v,min:F,max:p,pattern:b,validate:q,name:j,valueAsNumber:Fe,mount:de,disabled:Ve}=e._f,x=f(i,j);if(!de||Ve)return{};const U=l?l[0]:o,z=V=>{r&&U.reportValidity&&(U.setCustomValidity(Z(V)?"":V||""),U.reportValidity())},O={},oe=Pe(o),te=ce(o),Ae=oe||te,W=(Fe||Ie(o))&&C(o.value)&&C(x)||ge(o)&&o.value===""||x===""||Array.isArray(x)&&!x.length,Q=gt.bind(null,j,t,O),K=(V,_,E,I=X.maxLength,P=X.minLength)=>{const H=V?_:E;O[j]={type:V?I:P,message:H,ref:o,...Q(V?I:P,H)}};if(n?!Array.isArray(x)||!x.length:g&&(!Ae&&(W||L(x))||Z(x)&&!x||te&&!vt(l).isValid||oe&&!bt(l).isValid)){const{value:V,message:_}=me(g)?{value:!!g,message:g}:se(g);if(V&&(O[j]={type:X.required,message:_,ref:U,...Q(X.required,_)},!t))return z(_),O}if(!W&&(!L(F)||!L(p))){let V,_;const E=se(p),I=se(F);if(!L(x)&&!isNaN(x)){const P=o.valueAsNumber||x&&+x;L(E.value)||(V=P>E.value),L(I.value)||(_=P<I.value)}else{const P=o.valueAsDate||new Date(x),H=ue=>new Date(new Date().toDateString()+" "+ue),Y=o.type=="time",ae=o.type=="week";G(E.value)&&x&&(V=Y?H(x)>H(E.value):ae?x>E.value:P>new Date(E.value)),G(I.value)&&x&&(_=Y?H(x)<H(I.value):ae?x<I.value:P<new Date(I.value))}if((V||_)&&(K(!!V,E.message,I.message,X.max,X.min),!t))return z(O[j].message),O}if((h||v)&&!W&&(G(x)||n&&Array.isArray(x))){const V=se(h),_=se(v),E=!L(V.value)&&x.length>+V.value,I=!L(_.value)&&x.length<+_.value;if((E||I)&&(K(E,V.message,_.message),!t))return z(O[j].message),O}if(b&&!W&&G(x)){const{value:V,message:_}=se(b);if(ve(V)&&!x.match(V)&&(O[j]={type:X.pattern,message:_,ref:o,...Q(X.pattern,_)},!t))return z(_),O}if(q){if(J(q)){const V=await q(x,i),_=rt(V,U);if(_&&(O[j]={..._,...Q(X.validate,_.message)},!t))return z(_.message),O}else if(T(q)){let V={};for(const _ in q){if(!M(V)&&!t)break;const E=rt(await q[_](x,i),U,_);E&&(V={...E,...Q(_,E.message)},z(E.message),t&&(O[j]=V))}if(!M(V)&&(O[j]={ref:U,...V},!t))return O}}return z(!0),O};function ir(e,i){const t=i.slice(0,-1).length;let r=0;for(;r<t;)e=C(e)?r++:e[i[r++]];return e}function nr(e){for(const i in e)if(e.hasOwnProperty(i)&&!C(e[i]))return!1;return!0}function R(e,i){const t=Array.isArray(i)?i:Le(i)?[i]:ht(i),r=t.length===1?e:ir(e,t),n=t.length-1,o=t[n];return r&&delete r[o],n!==0&&(T(r)&&M(r)||Array.isArray(r)&&nr(r))&&R(e,t.slice(0,-1)),e}function ke(){let e=[];return{get observers(){return e},next:n=>{for(const o of e)o.next&&o.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(o=>o!==n)}}),unsubscribe:()=>{e=[]}}}var be=e=>L(e)||!at(e);function ee(e,i){if(be(e)||be(i))return e===i;if(ie(e)&&ie(i))return e.getTime()===i.getTime();const t=Object.keys(e),r=Object.keys(i);if(t.length!==r.length)return!1;for(const n of t){const o=e[n];if(!r.includes(n))return!1;if(n!=="ref"){const l=i[n];if(ie(o)&&ie(l)||T(o)&&T(l)||Array.isArray(o)&&Array.isArray(l)?!ee(o,l):o!==l)return!1}}return!0}var xt=e=>e.type==="select-multiple",or=e=>Pe(e)||ce(e),Ce=e=>ge(e)&&e.isConnected,_t=e=>{for(const i in e)if(J(e[i]))return!0;return!1};function xe(e,i={}){const t=Array.isArray(e);if(T(e)||t)for(const r in e)Array.isArray(e[r])||T(e[r])&&!_t(e[r])?(i[r]=Array.isArray(e[r])?[]:{},xe(e[r],i[r])):L(e[r])||(i[r]=!0);return i}function pt(e,i,t){const r=Array.isArray(e);if(T(e)||r)for(const n in e)Array.isArray(e[n])||T(e[n])&&!_t(e[n])?C(i)||be(t[n])?t[n]=Array.isArray(e[n])?xe(e[n],[]):{...xe(e[n])}:pt(e[n],L(i)?{}:i[n],t[n]):t[n]=!ee(e[n],i[n]);return t}var Te=(e,i)=>pt(e,i,xe(i)),Ft=(e,{valueAsNumber:i,valueAsDate:t,setValueAs:r})=>C(e)?e:i?e===""?NaN:e&&+e:t&&G(e)?new Date(e):r?r(e):e;function Oe(e){const i=e.ref;if(!(e.refs?e.refs.every(t=>t.disabled):i.disabled))return Ie(i)?i.files:Pe(i)?bt(e.refs).value:xt(i)?[...i.selectedOptions].map(({value:t})=>t):ce(i)?vt(e.refs).value:Ft(C(i.value)?e.ref.value:i.value,e)}var ar=(e,i,t,r)=>{const n={};for(const o of e){const l=f(i,o);l&&A(n,o,l._f)}return{criteriaMode:t,names:[...e],fields:n,shouldUseNativeValidation:r}},le=e=>C(e)?e:ve(e)?e.source:T(e)?ve(e.value)?e.value.source:e.value:e,ur=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function it(e,i,t){const r=f(e,t);if(r||Le(t))return{error:r,name:t};const n=t.split(".");for(;n.length;){const o=n.join("."),l=f(i,o),g=f(e,o);if(l&&!Array.isArray(l)&&t!==o)return{name:t};if(g&&g.type)return{name:o,error:g};n.pop()}return{name:t}}var lr=(e,i,t,r,n)=>n.isOnAll?!1:!t&&n.isOnTouch?!(i||e):(t?r.isOnBlur:n.isOnBlur)?!e:(t?r.isOnChange:n.isOnChange)?e:!0,cr=(e,i)=>!fe(f(e,i)).length&&R(e,i);const fr={mode:$.onSubmit,reValidateMode:$.onChange,shouldFocusError:!0};function dr(e={},i){let t={...fr,...e},r={submitCount:0,isDirty:!1,isLoading:J(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},n={},o=T(t.defaultValues)||T(t.values)?B(t.defaultValues||t.values)||{}:{},l=t.shouldUnregister?{}:B(o),g={action:!1,mount:!1,watch:!1},h={mount:new Set,unMount:new Set,array:new Set,watch:new Set},v,F=0;const p={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},b={values:ke(),array:ke(),state:ke()},q=e.resetOptions&&e.resetOptions.keepDirtyValues,j=Qe(t.mode),Fe=Qe(t.reValidateMode),de=t.criteriaMode===$.all,Ve=s=>a=>{clearTimeout(F),F=setTimeout(s,a)},x=async s=>{if(p.isValid||s){const a=t.resolver?M((await W()).errors):await K(n,!0);a!==r.isValid&&b.state.next({isValid:a})}},U=s=>p.isValidating&&b.state.next({isValidating:s}),z=(s,a=[],u,y,d=!0,c=!0)=>{if(y&&u){if(g.action=!0,c&&Array.isArray(f(n,s))){const m=u(f(n,s),y.argA,y.argB);d&&A(n,s,m)}if(c&&Array.isArray(f(r.errors,s))){const m=u(f(r.errors,s),y.argA,y.argB);d&&A(r.errors,s,m),cr(r.errors,s)}if(p.touchedFields&&c&&Array.isArray(f(r.touchedFields,s))){const m=u(f(r.touchedFields,s),y.argA,y.argB);d&&A(r.touchedFields,s,m)}p.dirtyFields&&(r.dirtyFields=Te(o,l)),b.state.next({name:s,isDirty:_(s,a),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else A(l,s,a)},O=(s,a)=>{A(r.errors,s,a),b.state.next({errors:r.errors})},oe=(s,a,u,y)=>{const d=f(n,s);if(d){const c=f(l,s,C(u)?f(o,s):u);C(c)||y&&y.defaultChecked||a?A(l,s,a?c:Oe(d._f)):P(s,c),g.mount&&x()}},te=(s,a,u,y,d)=>{let c=!1,m=!1;const D={name:s};if(!u||y){p.isDirty&&(m=r.isDirty,r.isDirty=D.isDirty=_(),c=m!==D.isDirty);const k=ee(f(o,s),a);m=f(r.dirtyFields,s),k?R(r.dirtyFields,s):A(r.dirtyFields,s,!0),D.dirtyFields=r.dirtyFields,c=c||p.dirtyFields&&m!==!k}if(u){const k=f(r.touchedFields,s);k||(A(r.touchedFields,s,u),D.touchedFields=r.touchedFields,c=c||p.touchedFields&&k!==u)}return c&&d&&b.state.next(D),c?D:{}},Ae=(s,a,u,y)=>{const d=f(r.errors,s),c=p.isValid&&Z(a)&&r.isValid!==a;if(e.delayError&&u?(v=Ve(()=>O(s,u)),v(e.delayError)):(clearTimeout(F),v=null,u?A(r.errors,s,u):R(r.errors,s)),(u?!ee(d,u):d)||!M(y)||c){const m={...y,...c&&Z(a)?{isValid:a}:{},errors:r.errors,name:s};r={...r,...m},b.state.next(m)}U(!1)},W=async s=>t.resolver(l,t.context,ar(s||h.mount,n,t.criteriaMode,t.shouldUseNativeValidation)),Q=async s=>{const{errors:a}=await W(s);if(s)for(const u of s){const y=f(a,u);y?A(r.errors,u,y):R(r.errors,u)}else r.errors=a;return a},K=async(s,a,u={valid:!0})=>{for(const y in s){const d=s[y];if(d){const{_f:c,...m}=d;if(c){const D=h.array.has(c.name),k=await st(d,l,de,t.shouldUseNativeValidation&&!a,D);if(k[c.name]&&(u.valid=!1,a))break;!a&&(f(k,c.name)?D?sr(r.errors,k,c.name):A(r.errors,c.name,k[c.name]):R(r.errors,c.name))}m&&await K(m,a,u)}}return u.valid},V=()=>{for(const s of h.unMount){const a=f(n,s);a&&(a._f.refs?a._f.refs.every(u=>!Ce(u)):!Ce(a._f.ref))&&we(s)}h.unMount=new Set},_=(s,a)=>(s&&a&&A(l,s,a),!ee(Me(),o)),E=(s,a,u)=>mt(s,h,{...g.mount?l:C(a)?o:G(s)?{[s]:a}:a},u,a),I=s=>fe(f(g.mount?l:o,s,e.shouldUnregister?f(o,s,[]):[])),P=(s,a,u={})=>{const y=f(n,s);let d=a;if(y){const c=y._f;c&&(!c.disabled&&A(l,s,Ft(a,c)),d=ge(c.ref)&&L(a)?"":a,xt(c.ref)?[...c.ref.options].forEach(m=>m.selected=d.includes(m.value)):c.refs?ce(c.ref)?c.refs.length>1?c.refs.forEach(m=>(!m.defaultChecked||!m.disabled)&&(m.checked=Array.isArray(d)?!!d.find(D=>D===m.value):d===m.value)):c.refs[0]&&(c.refs[0].checked=!!d):c.refs.forEach(m=>m.checked=m.value===d):Ie(c.ref)?c.ref.value="":(c.ref.value=d,c.ref.type||b.values.next({name:s,values:{...l}})))}(u.shouldDirty||u.shouldTouch)&&te(s,d,u.shouldTouch,u.shouldDirty,!0),u.shouldValidate&&ue(s)},H=(s,a,u)=>{for(const y in a){const d=a[y],c=`${s}.${y}`,m=f(n,c);(h.array.has(s)||!be(d)||m&&!m._f)&&!ie(d)?H(c,d,u):P(c,d,u)}},Y=(s,a,u={})=>{const y=f(n,s),d=h.array.has(s),c=B(a);A(l,s,c),d?(b.array.next({name:s,values:{...l}}),(p.isDirty||p.dirtyFields)&&u.shouldDirty&&b.state.next({name:s,dirtyFields:Te(o,l),isDirty:_(s,c)})):y&&!y._f&&!L(c)?H(s,c,u):P(s,c,u),Ye(s,h)&&b.state.next({...r}),b.values.next({name:s,values:{...l}}),!g.mount&&i()},ae=async s=>{const a=s.target;let u=a.name,y=!0;const d=f(n,u),c=()=>a.type?Oe(d._f):ut(s);if(d){let m,D;const k=c(),re=s.type===he.BLUR||s.type===he.FOCUS_OUT,It=!ur(d._f)&&!t.resolver&&!f(r.errors,u)&&!d._f.deps||lr(re,f(r.touchedFields,u),r.isSubmitted,Fe,j),De=Ye(u,h,re);A(l,u,k),re?(d._f.onBlur&&d._f.onBlur(s),v&&v(0)):d._f.onChange&&d._f.onChange(s);const Ee=te(u,k,re,!1),Pt=!M(Ee)||De;if(!re&&b.values.next({name:u,type:s.type,values:{...l}}),It)return p.isValid&&x(),Pt&&b.state.next({name:u,...De?{}:Ee});if(!re&&De&&b.state.next({...r}),U(!0),t.resolver){const{errors:ze}=await W([u]),Mt=it(r.errors,n,u),Ke=it(ze,n,Mt.name||u);m=Ke.error,u=Ke.name,D=M(ze)}else m=(await st(d,l,de,t.shouldUseNativeValidation))[u],y=isNaN(k)||k===f(l,u,k),y&&(m?D=!1:p.isValid&&(D=await K(n,!0)));y&&(d._f.deps&&ue(d._f.deps),Ae(u,D,m,Ee))}},ue=async(s,a={})=>{let u,y;const d=ye(s);if(U(!0),t.resolver){const c=await Q(C(s)?s:d);u=M(c),y=s?!d.some(m=>f(c,m)):u}else s?(y=(await Promise.all(d.map(async c=>{const m=f(n,c);return await K(m&&m._f?{[c]:m}:m)}))).every(Boolean),!(!y&&!r.isValid)&&x()):y=u=await K(n);return b.state.next({...!G(s)||p.isValid&&u!==r.isValid?{}:{name:s},...t.resolver||!s?{isValid:u}:{},errors:r.errors,isValidating:!1}),a.shouldFocus&&!y&&Re(n,c=>c&&f(r.errors,c),s?d:h.mount),y},Me=s=>{const a={...o,...g.mount?l:{}};return C(s)?a:G(s)?f(a,s):s.map(u=>f(a,u))},Ue=(s,a)=>({invalid:!!f((a||r).errors,s),isDirty:!!f((a||r).dirtyFields,s),isTouched:!!f((a||r).touchedFields,s),error:f((a||r).errors,s)}),Nt=s=>{s&&ye(s).forEach(a=>R(r.errors,a)),b.state.next({errors:s?r.errors:{}})},Be=(s,a,u)=>{const y=(f(n,s,{_f:{}})._f||{}).ref;A(r.errors,s,{...a,ref:y}),b.state.next({name:s,errors:r.errors,isValid:!1}),u&&u.shouldFocus&&y&&y.focus&&y.focus()},jt=(s,a)=>J(s)?b.values.subscribe({next:u=>s(E(void 0,a),u)}):E(s,a,!0),we=(s,a={})=>{for(const u of s?ye(s):h.mount)h.mount.delete(u),h.array.delete(u),a.keepValue||(R(n,u),R(l,u)),!a.keepError&&R(r.errors,u),!a.keepDirty&&R(r.dirtyFields,u),!a.keepTouched&&R(r.touchedFields,u),!t.shouldUnregister&&!a.keepDefaultValue&&R(o,u);b.values.next({values:{...l}}),b.state.next({...r,...a.keepDirty?{isDirty:_()}:{}}),!a.keepIsValid&&x()},$e=({disabled:s,name:a,field:u,fields:y})=>{if(Z(s)){const d=s?void 0:f(l,a,Oe(u?u._f:f(y,a)._f));A(l,a,d),te(a,d,!1,!1,!0)}},Se=(s,a={})=>{let u=f(n,s);const y=Z(a.disabled);return A(n,s,{...u||{},_f:{...u&&u._f?u._f:{ref:{name:s}},name:s,mount:!0,...a}}),h.mount.add(s),u?$e({field:u,disabled:a.disabled,name:s}):oe(s,!0,a.value),{...y?{disabled:a.disabled}:{},...t.progressive?{required:!!a.required,min:le(a.min),max:le(a.max),minLength:le(a.minLength),maxLength:le(a.maxLength),pattern:le(a.pattern)}:{},name:s,onChange:ae,onBlur:ae,ref:d=>{if(d){Se(s,a),u=f(n,s);const c=C(d.value)&&d.querySelectorAll&&d.querySelectorAll("input,select,textarea")[0]||d,m=or(c),D=u._f.refs||[];if(m?D.find(k=>k===c):c===u._f.ref)return;A(n,s,{_f:{...u._f,...m?{refs:[...D.filter(Ce),c,...Array.isArray(f(o,s))?[{}]:[]],ref:{type:c.type,name:s}}:{ref:c}}}),oe(s,!1,void 0,c)}else u=f(n,s,{}),u._f&&(u._f.mount=!1),(t.shouldUnregister||a.shouldUnregister)&&!(lt(h.array,s)&&g.action)&&h.unMount.add(s)}}},qe=()=>t.shouldFocusError&&Re(n,s=>s&&f(r.errors,s),h.mount),We=(s,a)=>async u=>{u&&(u.preventDefault&&u.preventDefault(),u.persist&&u.persist());let y=B(l);if(b.state.next({isSubmitting:!0}),t.resolver){const{errors:d,values:c}=await W();r.errors=d,y=c}else await K(n);R(r.errors,"root"),M(r.errors)?(b.state.next({errors:{}}),await s(y,u)):(a&&await a({...r.errors},u),qe(),setTimeout(qe)),b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:M(r.errors),submitCount:r.submitCount+1,errors:r.errors})},Lt=(s,a={})=>{f(n,s)&&(C(a.defaultValue)?Y(s,f(o,s)):(Y(s,a.defaultValue),A(o,s,a.defaultValue)),a.keepTouched||R(r.touchedFields,s),a.keepDirty||(R(r.dirtyFields,s),r.isDirty=a.defaultValue?_(s,f(o,s)):_()),a.keepError||(R(r.errors,s),p.isValid&&x()),b.state.next({...r}))},He=(s,a={})=>{const u=s?B(s):o,y=B(u),d=s&&!M(s)?y:o;if(a.keepDefaultValues||(o=u),!a.keepValues){if(a.keepDirtyValues||q)for(const c of h.mount)f(r.dirtyFields,c)?A(d,c,f(l,c)):Y(c,f(d,c));else{if(Ne&&C(s))for(const c of h.mount){const m=f(n,c);if(m&&m._f){const D=Array.isArray(m._f.refs)?m._f.refs[0]:m._f.ref;if(ge(D)){const k=D.closest("form");if(k){k.reset();break}}}}n={}}l=e.shouldUnregister?a.keepDefaultValues?B(o):{}:B(d),b.array.next({values:{...d}}),b.values.next({values:{...d}})}h={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!g.mount&&i(),g.mount=!p.isValid||!!a.keepIsValid,g.watch=!!e.shouldUnregister,b.state.next({submitCount:a.keepSubmitCount?r.submitCount:0,isDirty:a.keepDirty?r.isDirty:!!(a.keepDefaultValues&&!ee(s,o)),isSubmitted:a.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:a.keepDirtyValues?r.dirtyFields:a.keepDefaultValues&&s?Te(o,s):{},touchedFields:a.keepTouched?r.touchedFields:{},errors:a.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},Ge=(s,a)=>He(J(s)?s(l):s,a);return{control:{register:Se,unregister:we,getFieldState:Ue,handleSubmit:We,setError:Be,_executeSchema:W,_getWatch:E,_getDirty:_,_updateValid:x,_removeUnmounted:V,_updateFieldArray:z,_updateDisabledField:$e,_getFieldArray:I,_reset:He,_resetDefaultValues:()=>J(t.defaultValues)&&t.defaultValues().then(s=>{Ge(s,t.resetOptions),b.state.next({isLoading:!1})}),_updateFormState:s=>{r={...r,...s}},_subjects:b,_proxyFormState:p,get _fields(){return n},get _formValues(){return l},get _state(){return g},set _state(s){g=s},get _defaultValues(){return o},get _names(){return h},set _names(s){h=s},get _formState(){return r},set _formState(s){r=s},get _options(){return t},set _options(s){t={...t,...s}}},trigger:ue,register:Se,handleSubmit:We,watch:jt,setValue:Y,getValues:Me,reset:Ge,resetField:Lt,clearErrors:Nt,unregister:we,setError:Be,setFocus:(s,a={})=>{const u=f(n,s),y=u&&u._f;if(y){const d=y.refs?y.refs[0]:y.ref;d.focus&&(d.focus(),a.shouldSelect&&d.select())}},getFieldState:Ue}}function yr(e={}){const i=S.useRef(),t=S.useRef(),[r,n]=S.useState({isDirty:!1,isValidating:!1,isLoading:J(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:J(e.defaultValues)?void 0:e.defaultValues});i.current||(i.current={...dr(e,()=>n(l=>({...l}))),formState:r});const o=i.current.control;return o._options=e,je({subject:o._subjects.state,next:l=>{dt(l,o._proxyFormState,o._updateFormState,!0)&&n({...o._formState})}}),S.useEffect(()=>{e.values&&!ee(e.values,t.current)?(o._reset(e.values,o._options.resetOptions),t.current=e.values):o._resetDefaultValues()},[e.values,o]),S.useEffect(()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),i.current.formState=ft(r,o),i.current}var nt=function(e,i,t){if(e&&"reportValidity"in e){var r=f(t,i);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},Vt=function(e,i){var t=function(n){var o=i.fields[n];o&&o.ref&&"reportValidity"in o.ref?nt(o.ref,n,e):o.refs&&o.refs.forEach(function(l){return nt(l,n,e)})};for(var r in i.fields)t(r)},mr=function(e,i){i.shouldUseNativeValidation&&Vt(e,i);var t={};for(var r in e){var n=f(i.fields,r),o=Object.assign(e[r]||{},{ref:n&&n.ref});if(gr(i.names||Object.keys(e),r)){var l=Object.assign({},hr(f(t,r)));A(l,"root",o),A(t,r,l)}else A(t,r,o)}return t},hr=function(e){return Array.isArray(e)?e.filter(Boolean):[]},gr=function(e,i){return e.some(function(t){return t.startsWith(i+".")})},vr=function(e,i){for(var t={};e.length;){var r=e[0],n=r.code,o=r.message,l=r.path.join(".");if(!t[l])if("unionErrors"in r){var g=r.unionErrors[0].errors[0];t[l]={message:g.message,type:g.code}}else t[l]={message:o,type:n};if("unionErrors"in r&&r.unionErrors.forEach(function(F){return F.errors.forEach(function(p){return e.push(p)})}),i){var h=t[l].types,v=h&&h[r.code];t[l]=gt(l,i,t,n,v?[].concat(v,r.message):r.message)}e.shift()}return t},br=function(e,i,t){return t===void 0&&(t={}),function(r,n,o){try{return Promise.resolve(function(l,g){try{var h=Promise.resolve(e[t.mode==="sync"?"parse":"parseAsync"](r,i)).then(function(v){return o.shouldUseNativeValidation&&Vt({},o),{errors:{},values:t.raw?r:v}})}catch(v){return g(v)}return h&&h.then?h.then(void 0,g):h}(0,function(l){if(function(g){return g.errors!=null}(l))return{values:{},errors:mr(vr(l.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw l}))}catch(l){return Promise.reject(l)}}};const xr=N.forwardRef((e,i)=>N.createElement(Ut.label,Bt({},e,{ref:i,onMouseDown:t=>{var r;(r=e.onMouseDown)===null||r===void 0||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault()}}))),At=xr,_r=$t("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),wt=N.forwardRef(({className:e,...i},t)=>w.jsx(At,{ref:t,className:ne(_r(),e),...i}));wt.displayName=At.displayName;const pr=Yt,St=N.createContext({}),Fr=({...e})=>w.jsx(St.Provider,{value:{name:e.name},children:w.jsx(rr,{...e})}),pe=()=>{const e=N.useContext(St),i=N.useContext(Dt),{getFieldState:t,formState:r}=_e(),n=t(e.name,r);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:o}=i;return{id:o,name:e.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...n}},Dt=N.createContext({}),Et=N.forwardRef(({className:e,...i},t)=>{const r=N.useId();return w.jsx(Dt.Provider,{value:{id:r},children:w.jsx("div",{ref:t,className:ne("space-y-2",e),...i})})});Et.displayName="FormItem";const kt=N.forwardRef(({className:e,...i},t)=>{const{error:r,formItemId:n}=pe();return w.jsx(wt,{ref:t,className:ne(r&&"text-destructive",e),htmlFor:n,...i})});kt.displayName="FormLabel";const Ct=N.forwardRef(({...e},i)=>{const{error:t,formItemId:r,formDescriptionId:n,formMessageId:o}=pe();return w.jsx(qt,{ref:i,id:r,"aria-describedby":t?`${n} ${o}`:`${n}`,"aria-invalid":!!t,...e})});Ct.displayName="FormControl";const Tt=N.forwardRef(({className:e,...i},t)=>{const{formDescriptionId:r}=pe();return w.jsx("p",{ref:t,id:r,className:ne("text-sm text-muted-foreground",e),...i})});Tt.displayName="FormDescription";const Ot=N.forwardRef(({className:e,children:i,...t},r)=>{const{error:n,formMessageId:o}=pe(),l=n?String(n==null?void 0:n.message):i;return l?w.jsx("p",{ref:r,id:o,className:ne("text-sm font-medium text-destructive",e),...t,children:l}):null});Ot.displayName="FormMessage";const Vr=Wt([Xe("gpt-3.5-turbo"),Xe("gpt-4")]),Ar=Ht({secret:Je().min(10),model:Vr.default("gpt-4"),temperature:Gt().min(.2).max(1).default(.7),prompt:Je().min(10)}),Rt=N.forwardRef(({className:e,type:i,...t},r)=>w.jsx("input",{type:i,className:ne("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Rt.displayName="Input";const wr=({step:e,form:i,onFirstNext:t})=>{const{t:r}=zt(["form"]);return w.jsxs(Kt.div,{className:"p-1",animate:{translateX:`${-(e-1)*400}px`},style:{translateX:`${-(e-1)*400}px`},transition:{ease:"easeInOut"},children:[w.jsx("h1",{className:"font-medium text-medium text-xl mb-3",children:r("step1.heading")}),w.jsx(Fr,{control:i.control,name:"secret",render:({field:n})=>w.jsxs(Et,{children:[w.jsx(kt,{className:"text-md",children:r("step1.title")}),w.jsx(Tt,{children:r("step1.description")}),w.jsx(Ct,{children:w.jsx(Rt,{placeholder:"sk-...",...n})}),w.jsx(Ot,{})]})}),w.jsx(Xt,{type:"button",className:"flex gap-3 mt-3",onClick:t,children:r("next")})]})},Sr=N.lazy(()=>ot(()=>import("./gpt-form-step-2-3388a140.js"),["assets/gpt-form-step-2-3388a140.js","assets/index-714dce70.js","assets/index-e27dd113.css","assets/index-0610c31c.js"])),Dr=N.lazy(()=>ot(()=>import("./gpt-form-step-3-496a9b15.js"),["assets/gpt-form-step-3-496a9b15.js","assets/index-714dce70.js","assets/index-e27dd113.css","assets/index-0610c31c.js","assets/index-108068f1.js"]));function Er({setQuery:e,setMessages:i}){const[t,r]=N.useState(1),n=yr({resolver:br(Ar),defaultValues:{secret:"",model:"gpt-4",temperature:.7,prompt:""}});function o(){n.trigger("secret");const v=n.getFieldState("secret");!v.isDirty||v.invalid||r(F=>F+1)}function l(){r(v=>v+1)}function g(){r(v=>v-1)}function h(v){e({model:v.model,secret:v.secret,prompt:v.prompt,temperature:v.temperature}),i(F=>[...F,{content:v.prompt,role:"user"}]),console.log(v),n.resetField("prompt")}return w.jsx(pr,{...n,children:w.jsxs("form",{onSubmit:n.handleSubmit(h),className:"relative min-h-[400px] mt-1 overflow-x-hidden",children:[w.jsx(wr,{form:n,step:t,onFirstNext:o}),w.jsx(Sr,{form:n,step:t,onSecondNext:l,onBack:g}),w.jsx(Dr,{form:n,step:t,onBack:g})]})})}const Rr=Object.freeze(Object.defineProperty({__proto__:null,default:Er},Symbol.toStringTag,{value:"Module"}));export{Fr as F,Et as a,kt as b,Tt as c,Ct as d,Ot as e,Rr as g};
